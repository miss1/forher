{"version":3,"sources":["components/globalProvider.js","views/login.js","components/header.js","components/deleteConfirm.js","views/home.js","views/special.js","components/addPlan.js","views/plan.js","views/planDetail.js","assets/img/lineart.png","views/letter.js","assets/img/cook-default.jpg","components/addCook.js","components/addMenu.js","views/cook.js","App.js","index.js"],"names":["GlobalContext","createContext","showMessage","type","message","hideMessage","showLoading","hideLoading","doRequest","GlobalProvider","children","useState","openMsg","setOpenMsg","openLoading","setOpenLoading","typeRef","useRef","messageRef","doQueryError","err","current","error","code","window","location","replace","Provider","value","query","id","Promise","resolve","reject","find","then","res","catch","doFind","get","doGet","save","doSave","destroy","doDelete","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Alert","severity","sx","width","Backdrop","color","zIndex","theme","drawer","CircularProgress","Login","history","useHistory","password","setPassword","global","useContext","className","pink","fontSize","TextField","variant","label","size","mb","onChange","e","target","Button","onClick","React","$bmob","User","login","pathname","pages","Header","useLocation","anchorElNav","setAnchorElNav","tabVal","setTabVal","useEffect","indexOf","handleCloseNavMenu","Box","justifyContent","maxWidth","display","xs","md","Tabs","event","newValue","push","map","page","Tab","alignItems","IconButton","currentTarget","Menu","anchorEl","keepMounted","transformOrigin","Boolean","MenuItem","DeleteConfirm","props","setOpen","msg","setMsg","setId","useImperativeHandle","onRef","openDialog","handleClickOpen","text","oid","handleClose","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Home","plans","setPlan","breakfast","setBreakfast","lunch","setLunch","dinner","setDinner","special","setSpecial","confirmDialogRef","createRef","queryMenu","menuQuery","Query","equalTo","dayjs","format","include","filter","val","queryHomeData","planQuery","order","limit","queryPlan","handleDeleteFood","item","time","menu","name","objectId","timer","specialQuery","length","setInterval","Math","floor","random","clearInterval","style","marginBottom","Typography","Stack","spacing","plan","CardActionArea","backgroundColor","borderRadius","padding","mt","title","describe","flexWrap","Chip","onDelete","deleteIcon","margin","position","bottom","Special","list","setList","timeline","setTimeline","showTimeLine","setShowTimeLine","extend","duration","data","days","diff","_data","years","months","timeList","Timeline","TimelineItem","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","textAlign","Card","CardContent","m","p","Fab","right","AddPlan","planName","setPlanName","planDes","setPlanDes","setType","setTime","FormControl","FormLabel","RadioGroup","row","FormControlLabel","control","Radio","LocalizationProvider","dateAdapter","AdapterDayjs","MobileDatePicker","inputFormat","renderInput","params","set","refreshPage","Plan","alignment","setAlignment","addPlanRef","getList","ToggleButtonGroup","exclusive","newAlignment","ToggleButton","AlertTitle","PlanDetail","detail","setDetail","showEdit","setShowEdit","planDetail","setPlanDetail","getInfo","match","setInfo","flexDirection","fullWidth","multiline","rows","typeIcon","whiteSpace","go","Letter","content","setContent","showContent","setShowContent","ActionFeb","doAction","CardMedia","component","height","image","img","alt","toName","fromName","showLetterContent","gutterBottom","AddCookDialog","cookName","setCookName","AddMenu","setObjectId","setName","obj","poiID","Pointer","Cook","showDetail","setShowDetail","addDialogRef","addMenuRef","queryList","addToMenuList","stopPropagation","maxHeight","src","defaultImg","loading","ingredients","ImageList","ImageListItem","ImageListItemBar","subtitle","frequency","actionIcon","App","path","Bmob","initialize","ReactDOM","createRoot","document","getElementById","render","CssBaseline"],"mappings":"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","file":"static/js/main.d2b9d8fe.chunk.js","sourcesContent":["import Snackbar from '@mui/material/Snackbar';\r\nimport Alert from '@mui/material/Alert';\r\nimport React, {createContext, useRef, useState} from 'react';\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Backdrop from \"@mui/material/Backdrop\";\r\n\r\nexport const GlobalContext = createContext({\r\n  showMessage: (type, message) => {},\r\n  hideMessage: () => {},\r\n  showLoading: () => {},\r\n  hideLoading: () => {},\r\n  doRequest: () => {}\r\n});\r\n\r\nfunction GlobalProvider({children}) {\r\n  const [openMsg, setOpenMsg] = useState(false);\r\n  const [openLoading, setOpenLoading] = useState(false);\r\n  const typeRef = useRef();\r\n  const messageRef = useRef();\r\n\r\n  const doFind = (query) => {\r\n    return new Promise((resolve, reject) => {\r\n      query.find().then(res => {\r\n        setOpenLoading(false);\r\n        resolve(res);\r\n      }).catch(err => {\r\n        doQueryError(err);\r\n        reject();\r\n      })\r\n    })\r\n  };\r\n\r\n  const doGet = (query, id) => {\r\n    return new Promise((resolve, reject) => {\r\n      query.get(id).then(res => {\r\n        setOpenLoading(false);\r\n        resolve(res);\r\n      }).catch(err => {\r\n        doQueryError(err);\r\n        reject();\r\n      })\r\n    })\r\n  };\r\n\r\n  const doSave = (query) => {\r\n    return new Promise((resolve, reject) => {\r\n      query.save().then(res => {\r\n        setOpenLoading(false);\r\n        resolve(res);\r\n      }).catch(err => {\r\n        doQueryError(err);\r\n        reject();\r\n      })\r\n    })\r\n  };\r\n\r\n  const doDelete = (query, id) => {\r\n    return new Promise((resolve, reject) => {\r\n      query.destroy(id).then(res => {\r\n        setOpenLoading(false);\r\n        resolve(res);\r\n      }).catch(err => {\r\n        doQueryError(err);\r\n        reject();\r\n      })\r\n    })\r\n  };\r\n\r\n  const doQueryError = (err) => {\r\n    setOpenLoading(false);\r\n    typeRef.current = \"error\";\r\n    messageRef.current = err.error;\r\n    setOpenMsg(true);\r\n    if (err.code === 122) {\r\n      window.location.replace('/forher/index.html');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        showMessage: (type, message) => {\r\n          typeRef.current = type;\r\n          messageRef.current = message;\r\n          setOpenMsg(true);\r\n        },\r\n        hideMessage: () => {\r\n          setOpenMsg(false);\r\n        },\r\n        showLoading: () => {\r\n          setOpenLoading(true);\r\n        },\r\n        hideLoading: () => {\r\n          setOpenLoading(false);\r\n        },\r\n        doRequest: (query, type, id) => {\r\n          setOpenLoading(true);\r\n          if (type === 'get') return doFind(query);\r\n          if (type === 'find') return doGet(query, id);\r\n          if (type === 'put') return doSave(query);\r\n          if (type === 'delete') return doDelete(query, id);\r\n        }\r\n      }}>\r\n      {children}\r\n      <Snackbar\r\n        anchorOrigin={{vertical: \"top\", horizontal: \"center\"}}\r\n        open={openMsg}\r\n        autoHideDuration={1000}\r\n        onClose={() => setOpenMsg(false)}\r\n        key=\"topcenter\">\r\n        <Alert onClose={() => setOpenMsg(false)} severity={typeRef.current} sx={{width: '100%'}}>{messageRef.current}</Alert>\r\n      </Snackbar>\r\n      <Backdrop\r\n        sx={{color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1}}\r\n        open={openLoading}>\r\n        <CircularProgress color=\"inherit\"/>\r\n      </Backdrop>\r\n    </GlobalContext.Provider>\r\n  );\r\n}\r\n\r\nexport default GlobalProvider;","import '../assets/login.css'\r\nimport React, {useContext, useState} from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {pink} from \"@mui/material/colors\";\r\nimport {GlobalContext} from \"../components/globalProvider\"\r\n\r\nfunction Login() {\r\n  let history = useHistory();\r\n  const [password, setPassword] = useState('');\r\n  const global = useContext(GlobalContext);\r\n\r\n  const doLogin = () => {\r\n    global.showLoading();\r\n    React.$bmob.User.login('ccc',password).then(res => {\r\n      global.hideLoading();\r\n      history.replace({pathname: '/home'});\r\n    }).catch(err => {\r\n      global.hideLoading();\r\n      global.showMessage(\"error\", err.error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <div className=\"login-panel\">\r\n        <div className=\"login-title\">\r\n          <span>Y</span>\r\n          <FavoriteIcon className=\"animate__animated animate__flip\" sx={{ color: pink[500], fontSize: 40 }}/>\r\n          <span>C</span>\r\n        </div>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"password\"\r\n          size=\"small\"\r\n          type=\"password\"\r\n          sx={{ mb: 2 }}\r\n          onChange={(e) => setPassword(e.target.value)}/>\r\n        <Button variant=\"contained\" onClick={doLogin}>Login</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import { useState, useEffect } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport '../assets/header.css'\r\nimport MenuIcon from \"@mui/icons-material/Menu\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport {pink} from \"@mui/material/colors\";\r\n\r\nconst pages = [\r\n  {value: '/home', label: 'HOME'},\r\n  {value: '/special', label: 'SPECIAL DAY'},\r\n  {value: '/plan', label: 'PLAN'},\r\n  {value: '/letter', label: 'LETTER'},\r\n  {value: '/cook', label: 'COOKBOOK'}\r\n];\r\n\r\nfunction Header() {\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n  const [anchorElNav, setAnchorElNav] = useState(null);\r\n  const [tabVal, setTabVal] = useState('/home');\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.indexOf('plan-detail') !== -1) {\r\n      setTabVal('/plan');\r\n    } else {\r\n      setTabVal(location.pathname);\r\n    }\r\n  }, [setTabVal, location]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    history.push({pathname: newValue});\r\n  };\r\n\r\n  const handleClickItem = (newValue) => {\r\n    handleCloseNavMenu();\r\n    history.push({pathname: newValue});\r\n  };\r\n\r\n  const handleOpenNavMenu = (event) => {\r\n    setAnchorElNav(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseNavMenu = () => {\r\n    setAnchorElNav(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <Box sx={{ justifyContent: 'space-between', maxWidth: 900, width: '100%', display: { xs: 'none', md: 'flex' } }}>\r\n        <p className=\"header-title\">Y&C</p>\r\n        <Tabs value={tabVal} onChange={handleChange} aria-label=\"nav tabs example\">\r\n          {pages.map((page) => (\r\n            <Tab key={page.value} value={page.value} label={page.label}/>\r\n          ))}\r\n        </Tabs>\r\n      </Box>\r\n      <Box sx={{ justifyContent: 'space-between', alignItems: 'center', width: '100%', display: { xs: 'flex', md: 'none' } }}>\r\n        <FavoriteIcon sx={{ color: pink[500], fontSize: 30 }}/>\r\n        <p className=\"header-title\">Y&C</p>\r\n        <IconButton\r\n          size=\"large\"\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"menu-appbar\"\r\n          aria-haspopup=\"true\"\r\n          onClick={handleOpenNavMenu}\r\n          color=\"inherit\">\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"menu-appbar\"\r\n          anchorEl={anchorElNav}\r\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n          keepMounted\r\n          transformOrigin={{ vertical: 'top', horizontal: 'left' }}\r\n          open={Boolean(anchorElNav)}\r\n          onClose={handleCloseNavMenu}\r\n          sx={{ display: { xs: 'block', md: 'none' } }}>\r\n          {pages.map((page) => (\r\n            <MenuItem key={page.value} onClick={() => handleClickItem(page.value)}>{page.label}</MenuItem>\r\n          ))}\r\n        </Menu>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import React, {useImperativeHandle } from \"react\";\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport InfoIcon from '@mui/icons-material/Info';\r\n\r\nexport default function DeleteConfirm(props) {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [msg, setMsg] = React.useState('');\r\n  const [id, setId] = React.useState('');\r\n\r\n  useImperativeHandle(props.onRef, () => {\r\n    return { openDialog: handleClickOpen };\r\n  });\r\n\r\n  const handleClickOpen = (text, oid) => {\r\n    if (oid) setId(oid);\r\n    setMsg(text);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    props.doDelete(id);\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\">\r\n      <DialogTitle id=\"alert-dialog-title\">删除</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\" sx={{display: 'flex', alignItems: 'center'}}>\r\n          <InfoIcon sx={{color: '#ef5350'}}/>\r\n          {msg}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose}>取消</Button>\r\n        <Button onClick={handleSubmit} autoFocus>确定</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import Header from '../components/header'\r\nimport AccessTimeFilledIcon from '@mui/icons-material/AccessTimeFilled';\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from '@mui/material/Box';\r\nimport Stack from '@mui/material/Stack';\r\nimport CardActionArea from '@mui/material/CardActionArea';\r\nimport Chip from '@mui/material/Chip';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport React, {useEffect, useState, useContext} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport DeleteConfirm from \"../components/deleteConfirm\"\r\nimport {GlobalContext} from \"../components/globalProvider\"\r\nimport dayjs from \"dayjs\";\r\n\r\nfunction Home() {\r\n  const [plans, setPlan] = useState([]);\r\n  const [breakfast, setBreakfast] = useState([]);\r\n  const [lunch, setLunch] = useState([]);\r\n  const [dinner, setDinner] = useState([]);\r\n  const [special, setSpecial] = useState([]);\r\n  const global = useContext(GlobalContext);\r\n  let history = useHistory();\r\n  let confirmDialogRef = React.createRef();\r\n\r\n  const queryMenu = () => {\r\n    const menuQuery = React.$bmob.Query(\"DailyMenu\");\r\n    menuQuery.equalTo(\"time\", \"==\", dayjs().format('YYYY-MM-DD'));\r\n    menuQuery.include('menu','post')\r\n    global.doRequest(menuQuery, 'get').then(res => {\r\n      setBreakfast(res.filter((val) => val.type === '0'));\r\n      setLunch(res.filter((val) => val.type === '1'));\r\n      setDinner(res.filter((val) => val.type === '2'));\r\n    });\r\n  };\r\n\r\n  const queryPlan = () => {\r\n    const planQuery = React.$bmob.Query(\"Plan\");\r\n    planQuery.equalTo(\"type\", \"==\", \"error\");\r\n    planQuery.order('-time');\r\n    planQuery.limit(3);\r\n    global.doRequest(planQuery, 'get').then(res => {\r\n      setPlan(res);\r\n    });\r\n  };\r\n\r\n  const queryHomeData = () => {\r\n    queryPlan();\r\n    queryMenu();\r\n  };\r\n\r\n  const handleToPlanDetail = (id) => {\r\n    if (id) {\r\n      history.push({pathname: '/plan-detail/' + id});\r\n    }\r\n  };\r\n\r\n  const handleDeleteFood = (item, time) => {\r\n    confirmDialogRef.current.openDialog(`确定从${time}中删除：${item.menu.name}？`, item.objectId);\r\n  };\r\n\r\n  const doDeleteFood = (id) => {\r\n    global.showLoading();\r\n    const query = React.$bmob.Query(\"DailyMenu\");\r\n    global.doRequest(query, 'delete', id).then(res => {\r\n      global.showMessage(\"success\", \"Delete Success\")\r\n      queryMenu();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timer = null;\r\n    queryHomeData();\r\n    const specialQuery = React.$bmob.Query(\"Special\");\r\n    specialQuery.order('time');\r\n    specialQuery.equalTo(\"type\", \"==\", 2);\r\n    global.doRequest(specialQuery, 'get').then(res => {\r\n      if (res && res.length > 0) {\r\n        setSpecial(res[0]);\r\n        timer = setInterval(() => {\r\n          setSpecial(res[Math.floor(Math.random() * res.length)]);\r\n        }, 3000);\r\n      }\r\n    });\r\n    return () => {\r\n      if (timer) {\r\n        clearInterval(timer);\r\n        timer = null;\r\n      }\r\n    }\r\n  } , []);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header/>\r\n      <div className=\"content-page\">\r\n        <div className=\"page-scroll\">\r\n          <div\r\n            className=\"home-time animate__animated animate__fadeInDown\"\r\n            style={{display: \"flex\", alignItems: \"center\", marginBottom: \"20px\"}}>\r\n            <AccessTimeFilledIcon sx={{color: '#F19595'}}/>\r\n            <Typography variant=\"h5\" color=\"#F19595\">{dayjs().format('YYYY-MM-DD')}</Typography>\r\n          </div>\r\n          <Box>\r\n            <Stack spacing={2}>\r\n              <Typography variant=\"subtitle1\" color=\"text.secondary\">最近的计划</Typography>\r\n              {plans.map((plan) => (\r\n                <CardActionArea\r\n                  key={plan.objectId}\r\n                  className=\"animate__animated animate__fadeInLeft\"\r\n                  sx={{backgroundColor: \"rgb(253, 237, 237)\", borderRadius: \"4px\", padding: \"15px\"}}\r\n                  onClick={() => handleToPlanDetail(plan.objectId)}>\r\n                  <Typography variant=\"subtitle2\" sx={{mt: 1}}>{plan.title}</Typography>\r\n                  <Typography variant=\"subtitle2\">{plan.describe}</Typography>\r\n                  <Typography variant=\"subtitle2\">{plan.time}</Typography>\r\n                </CardActionArea>\r\n              ))}\r\n              <div\r\n                className=\"animate__animated animate__fadeInRight\"\r\n                style={{backgroundColor: \"rgb(229, 246, 253)\", borderRadius: \"4px\", padding: \"15px\"}}>\r\n                <Typography variant=\"subtitle1\" color=\"text.secondary\">今日菜单</Typography>\r\n                <Typography variant=\"subtitle2\" sx={{mt: 2}}>早餐</Typography>\r\n                <div style={{display: \"flex\", flexWrap: \"wrap\"}}>\r\n                  {breakfast.map((item) => (\r\n                    <Chip\r\n                      key={item.objectId}\r\n                      label={item.menu.name}\r\n                      onDelete={() => handleDeleteFood(item, \"早餐\")}\r\n                      deleteIcon={<CloseIcon />}\r\n                      sx={{margin: \"5px\"}}/>\r\n                  ))}\r\n                </div>\r\n                <Typography variant=\"subtitle2\" sx={{mt: 2}}>午餐</Typography>\r\n                <div style={{display: \"flex\", flexWrap: \"wrap\"}}>\r\n                  {lunch.map((item) => (\r\n                    <Chip\r\n                      key={item.objectId}\r\n                      label={item.menu.name}\r\n                      onDelete={() => handleDeleteFood(item, \"午餐\")}\r\n                      deleteIcon={<CloseIcon />}\r\n                      sx={{margin: \"5px\"}}/>\r\n                  ))}\r\n                </div>\r\n                <Typography variant=\"subtitle2\" sx={{mt: 2}}>晚餐</Typography>\r\n                <div style={{display: \"flex\", flexWrap: \"wrap\"}}>\r\n                  {dinner.map((item) => (\r\n                    <Chip\r\n                      key={item.objectId}\r\n                      label={item.menu.name}\r\n                      onDelete={() => handleDeleteFood(item, \"晚餐\")}\r\n                      deleteIcon={<CloseIcon />}\r\n                      sx={{margin: \"5px\"}}/>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </Stack>\r\n          </Box>\r\n        </div>\r\n      </div>\r\n      <div style={{position: \"absolute\", bottom: \"20px\", display: \"flex\", justifyContent: \"center\", width: \"100%\"}}>\r\n        <Chip\r\n          className=\"animate__animated animate__flipInX\"\r\n          label={special.name + \" (\" + special.time + \")\"}\r\n          sx={{margin: \"5px\", backgroundColor: \"rgb(237, 247, 237)\"}}/>\r\n      </div>\r\n      <DeleteConfirm onRef={confirmDialogRef} doDelete={doDeleteFood}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import Header from \"../components/header\";\r\nimport '../assets/special.css'\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport Fab from '@mui/material/Fab';\r\nimport SwapHorizIcon from '@mui/icons-material/SwapHoriz';\r\nimport Typography from '@mui/material/Typography';\r\nimport dayjs from 'dayjs';\r\nimport duration from 'dayjs/plugin/duration';\r\nimport Timeline from '@mui/lab/Timeline';\r\nimport TimelineItem from '@mui/lab/TimelineItem';\r\nimport TimelineSeparator from '@mui/lab/TimelineSeparator';\r\nimport TimelineConnector from '@mui/lab/TimelineConnector';\r\nimport TimelineContent from '@mui/lab/TimelineContent';\r\nimport TimelineDot from '@mui/lab/TimelineDot';\r\nimport {GlobalContext} from \"../components/globalProvider\";\r\n\r\nfunction Special() {\r\n  const [list, setList] = useState([]);\r\n  const [timeline, setTimeline] = useState([]);\r\n  const [showTimeLine, setShowTimeLine] = useState(true);\r\n  const global = useContext(GlobalContext);\r\n\r\n  dayjs.extend(duration)\r\n\r\n  const getLists = () => {\r\n    const query = React.$bmob.Query(\"Special\");\r\n    query.order('time');\r\n    global.doRequest(query, 'get').then(res => {\r\n      let data = res.map(val => {\r\n        if (val.type === 1) {\r\n          val.duration = '';\r\n          val.days = dayjs(val.time).diff(dayjs(), 'day');\r\n        } else {\r\n          let _data = dayjs.duration(dayjs().diff(dayjs(val.time)));\r\n          val.duration = _data.years() + ' Years ' + _data.months() + ' Month ' + _data.days() + ' Day';\r\n          val.days = dayjs().diff(dayjs(val.time), 'day');\r\n        }\r\n        return val;\r\n      });\r\n      let timeList = data.filter(val => val.type === 2);\r\n      setList(data);\r\n      setTimeline(timeList);\r\n    });\r\n  }\r\n\r\n  const doAction = () => {\r\n    setShowTimeLine(!showTimeLine);\r\n  }\r\n\r\n  useEffect(getLists, []);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header/>\r\n      <div className=\"content-page\">\r\n        {showTimeLine\r\n          ? <div className=\"page-scroll special-timeline\">\r\n            <Timeline position=\"alternate\" className=\"animate__animated animate__fadeIn\">\r\n              {timeline.map((item) => (\r\n                <TimelineItem key={item.objectId}>\r\n                  <TimelineSeparator>\r\n                    <TimelineDot color='success' />\r\n                    <TimelineConnector />\r\n                  </TimelineSeparator>\r\n                  <TimelineContent>{item.name} ({item.time})</TimelineContent>\r\n                </TimelineItem>\r\n              ))}\r\n            </Timeline>\r\n            <Typography variant=\"string\" sx={{textAlign: 'center'}}>to be continued</Typography>\r\n          </div>\r\n          : <div className=\"page-scroll special-page\">\r\n            {list.map((item) => (\r\n              <Card\r\n                className=\"animate__animated animate__fadeInUp\"\r\n                key={item.objectId}\r\n                sx={{width: {xs: '100%', md: '49%'}, margin: '5px 0'}}>\r\n                <CardContent sx={{m: 0, p: 0}}>\r\n                  <div className={item.type === 1 ? 'special-head-down' : 'special-head-up'}>\r\n                    <p>{item.name}</p>\r\n                    <p>{item.type === 1 ? 'Arrives in' : 'Already'}</p>\r\n                  </div>\r\n                  <p className=\"special-content\">{item.days}</p>\r\n                  <p className=\"special-sub-content\">{item.duration}</p>\r\n                  <p className=\"special-foot\">{item.time}</p>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        }\r\n      </div>\r\n      <Fab\r\n        className={`animate__animated animate__bounceIn`}\r\n        onClick={doAction} color={showTimeLine ? 'warning' : 'primary'}\r\n           sx={{position: 'absolute', bottom: '5%', right: '10%'}}>\r\n        <SwapHorizIcon/>\r\n      </Fab>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Special;","import Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport Button from \"@mui/material/Button\";\r\nimport React, {useState, useImperativeHandle, useContext } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport { MobileDatePicker } from '@mui/x-date-pickers/MobileDatePicker';\r\nimport dayjs from 'dayjs';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport Stack from '@mui/material/Stack';\r\nimport {GlobalContext} from \"./globalProvider\";\r\n\r\nexport default function AddPlan(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [planName, setPlanName] = useState('');\r\n  const [planDes, setPlanDes] = useState('');\r\n  const [type, setType] = useState('info');\r\n  const [time, setTime] = useState(dayjs());\r\n  const global = useContext(GlobalContext);\r\n\r\n  useImperativeHandle(props.onRef, () => {\r\n    return { openDialog: handleClickOpen };\r\n  });\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleTypeChange = (event) => {\r\n    setType(event.target.value);\r\n  }\r\n\r\n  const handleDateChange = (newValue) => {\r\n    setTime(newValue);\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (planName === '') return;\r\n    handleClose();\r\n    const query = React.$bmob.Query(\"Plan\");\r\n    query.set('title', planName);\r\n    query.set('describe', planDes);\r\n    query.set('type', type);\r\n    query.set('time', dayjs(time).format('YYYY-MM-DD'));\r\n    global.doRequest(query, 'put').then(res => {\r\n      global.showMessage(\"success\", \"Add Success\");\r\n      props.refreshPage();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>添加新计划</DialogTitle>\r\n        <DialogContent>\r\n          <FormControl>\r\n            <FormLabel id=\"demo-row-radio-buttons-group-label\">Plan type</FormLabel>\r\n            <RadioGroup\r\n              row\r\n              aria-labelledby=\"demo-row-radio-buttons-group-label\"\r\n              name=\"row-radio-buttons-group\"\r\n              value={type}\r\n              onChange={handleTypeChange}>\r\n              <FormControlLabel value=\"success\" control={<Radio size=\"small\" />} label=\"已完成\" />\r\n              <FormControlLabel value=\"error\" control={<Radio size=\"small\" />} label=\"计划中\" />\r\n              <FormControlLabel value=\"info\" control={<Radio size=\"small\" />} label=\"未来\" />\r\n            </RadioGroup>\r\n          </FormControl>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            label=\"plan name\"\r\n            size=\"small\"\r\n            type=\"text\"\r\n            sx={{ mb: 2, mt: 1 }}\r\n            error={planName === ''}\r\n            onChange={(e) => setPlanName(e.target.value)}/>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            label=\"describe\"\r\n            size=\"small\"\r\n            type=\"text\"\r\n            sx={{ mb: 2 }}\r\n            onChange={(e) => setPlanDes(e.target.value)}/>\r\n          <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n            <Stack spacing={1}>\r\n              <MobileDatePicker\r\n                label=\"Start time\"\r\n                inputFormat=\"YYYY-MM-DD\"\r\n                value={time}\r\n                onChange={handleDateChange}\r\n                renderInput={(params) => <TextField {...params} size=\"small\" />}\r\n              />\r\n            </Stack>\r\n          </LocalizationProvider>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>取消</Button>\r\n          <Button onClick={handleSubmit}>添加</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import Header from \"../components/header\";\r\nimport '../assets/plan.css'\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport ToggleButton from '@mui/material/ToggleButton';\r\nimport ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\r\nimport Alert from '@mui/material/Alert';\r\nimport AlertTitle from '@mui/material/AlertTitle';\r\nimport CardActionArea from '@mui/material/CardActionArea';\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport Fab from \"@mui/material/Fab\";\r\nimport AddPlan from \"../components/addPlan\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {GlobalContext} from \"../components/globalProvider\"\r\n\r\nfunction Plan() {\r\n  const [alignment, setAlignment] = useState('');\r\n  const [list, setList] = useState([]);\r\n  let history = useHistory();\r\n  let addPlanRef = React.createRef();\r\n  const global = useContext(GlobalContext);\r\n\r\n  const getList = (type) => {\r\n    const query = React.$bmob.Query(\"Plan\");\r\n    query.order('-time');\r\n    if (type) query.equalTo(\"type\", \"==\", type);\r\n    global.doRequest(query, 'get').then(res => {\r\n      setList(res);\r\n    });\r\n  }\r\n\r\n  const handleChange = (event, newAlignment) => {\r\n    setAlignment(newAlignment);\r\n    getList(newAlignment);\r\n  };\r\n\r\n  const showPlanDetail = (id) => {\r\n    history.push({pathname: '/plan-detail/' + id});\r\n  }\r\n\r\n  const doAddPlan = () => {\r\n    addPlanRef.current.openDialog();\r\n  }\r\n\r\n  useEffect(getList, []);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header/>\r\n      <div className=\"content-page\">\r\n        <div className=\"page-scroll\">\r\n          <ToggleButtonGroup\r\n            color=\"primary\"\r\n            value={alignment}\r\n            exclusive\r\n            onChange={handleChange}\r\n            sx={{mt: '5px'}}\r\n            aria-label=\"Platform\">\r\n            <ToggleButton size=\"small\" value=\"success\">已完成</ToggleButton>\r\n            <ToggleButton size=\"small\" value=\"error\">计划中</ToggleButton>\r\n            <ToggleButton size=\"small\" value=\"info\">未来</ToggleButton>\r\n          </ToggleButtonGroup>\r\n          <div className='plan-content'>\r\n            {list.map((item) => (\r\n              <CardActionArea\r\n                className=\"animate__animated animate__fadeInUp\"\r\n                sx={{mt: '10px'}} key={item.objectId} onClick={() => showPlanDetail(item.objectId)}>\r\n                <Alert severity={item.type}>\r\n                  <AlertTitle>{item.title}</AlertTitle>\r\n                  {item.describe} — <strong>{item.time || '/'}</strong>\r\n                </Alert>\r\n              </CardActionArea>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Fab onClick={doAddPlan} color='primary' sx={{position: 'absolute', bottom: '5%', right: '10%'}}>\r\n        <AddIcon/>\r\n      </Fab>\r\n      <AddPlan onRef={addPlanRef} refreshPage={getList}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Plan;","import Header from \"../components/header\";\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Fab from \"@mui/material/Fab\";\r\nimport Typography from '@mui/material/Typography';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport InfoIcon from '@mui/icons-material/Info';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport RadioGroup from \"@mui/material/RadioGroup\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Radio from \"@mui/material/Radio\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport {AdapterDayjs} from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport {MobileDatePicker} from \"@mui/x-date-pickers/MobileDatePicker\";\r\nimport {LocalizationProvider} from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport dayjs from \"dayjs\";\r\nimport Button from \"@mui/material/Button\";\r\nimport DeleteConfirm from \"../components/deleteConfirm\"\r\nimport { useHistory } from 'react-router-dom';\r\nimport {GlobalContext} from \"../components/globalProvider\"\r\n\r\nexport default function PlanDetail(props) {\r\n  const [detail, setDetail] = useState({});\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [planName, setPlanName] = useState('');\r\n  const [planDes, setPlanDes] = useState('');\r\n  const [type, setType] = useState('info');\r\n  const [time, setTime] = useState(dayjs());\r\n  const [planDetail, setPlanDetail] = useState(dayjs());\r\n  let confirmDialogRef = React.createRef();\r\n  let history = useHistory();\r\n  const global = useContext(GlobalContext);\r\n\r\n  const getInfo = () => {\r\n    const query = React.$bmob.Query(\"Plan\");\r\n    global.doRequest(query, 'find', props.match.params.id).then(res => {\r\n      setDetail(res);\r\n      setInfo(res);\r\n    });\r\n  }\r\n\r\n  const setInfo = (data) => {\r\n    setPlanName(data.title);\r\n    setPlanDes(data.describe);\r\n    setType(data.type);\r\n    setTime(data.time ? dayjs(data.time) : dayjs());\r\n    setPlanDetail(data.detail);\r\n  }\r\n\r\n  const typeIcon = (type) => {\r\n    switch (type) {\r\n      case 'success':\r\n        return (<CheckCircleIcon sx={{color: '#4caf50'}}/>);\r\n      case 'error':\r\n        return (<InfoIcon sx={{color: '#ef5350'}}/>);\r\n      case 'info':\r\n        return (<InfoIcon sx={{color: '#03a9f4'}}/>);\r\n      default:\r\n        return (<InfoIcon sx={{color: '#03a9f4'}}/>);\r\n    }\r\n  }\r\n\r\n  const saveDetail = () => {\r\n    if (planName === '') return;\r\n    const query = React.$bmob.Query(\"Plan\");\r\n    query.set('id', detail.objectId);\r\n    query.set('title', planName);\r\n    query.set('describe', planDes);\r\n    query.set('type', type);\r\n    query.set('time', dayjs(time).format('YYYY-MM-DD'));\r\n    query.set('detail', planDetail);\r\n    global.doRequest(query, 'put').then(res => {\r\n      global.showMessage(\"success\", \"Add Success\");\r\n      setShowEdit(false);\r\n      getInfo();\r\n    });\r\n  }\r\n\r\n  const doFabAction = () => {\r\n    if (showEdit) setInfo(detail);\r\n    setShowEdit(!showEdit);\r\n  }\r\n\r\n  const deletePlan = () => {\r\n    confirmDialogRef.current.openDialog(\"确定删除这条数据吗？\");\r\n  }\r\n\r\n  const doDelete = () => {\r\n    const query = React.$bmob.Query(\"Plan\");\r\n    global.doRequest(query, 'delete', detail.objectId).then(res => {\r\n      global.showMessage(\"success\", \"Delete Success\");\r\n      setShowEdit(false);\r\n      history.go(-1);\r\n    });\r\n  }\r\n\r\n  useEffect(getInfo, []);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header/>\r\n      <div className=\"content-page\">\r\n        <div className=\"page-scroll\">\r\n          {showEdit\r\n            ? <div className=\"plan-detail-edit\" style={{display: 'flex', flexDirection: 'column'}}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                label=\"plan name\"\r\n                size=\"small\"\r\n                type=\"text\"\r\n                sx={{ mb: 2, mt: 1 }}\r\n                value={planName}\r\n                error={planName === ''}\r\n                onChange={(e) => setPlanName(e.target.value)}/>\r\n              <FormControl>\r\n                <FormLabel id=\"demo-row-radio-buttons-group-label\">Plan type</FormLabel>\r\n                <RadioGroup\r\n                  row\r\n                  aria-labelledby=\"demo-row-radio-buttons-group-label\"\r\n                  name=\"row-radio-buttons-group\"\r\n                  value={type}\r\n                  onChange={(e) => setType(e.target.value)}>\r\n                  <FormControlLabel value=\"success\" control={<Radio size=\"small\" />} label=\"已完成\" />\r\n                  <FormControlLabel value=\"error\" control={<Radio size=\"small\" />} label=\"计划中\" />\r\n                  <FormControlLabel value=\"info\" control={<Radio size=\"small\" />} label=\"未来\" />\r\n                </RadioGroup>\r\n              </FormControl>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                label=\"describe\"\r\n                size=\"small\"\r\n                type=\"text\"\r\n                value={planDes}\r\n                sx={{ mb: 2 }}\r\n                onChange={(e) => setPlanDes(e.target.value)}/>\r\n              <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n                <Stack spacing={1}>\r\n                  <MobileDatePicker\r\n                    label=\"Start time\"\r\n                    inputFormat=\"YYYY-MM-DD\"\r\n                    value={time}\r\n                    onChange={(newValue) => setTime(newValue)}\r\n                    renderInput={(params) => <TextField {...params} size=\"small\" />}\r\n                  />\r\n                </Stack>\r\n              </LocalizationProvider>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                label=\"Detail\"\r\n                size=\"small\"\r\n                type=\"text\"\r\n                value={planDetail}\r\n                fullWidth={true}\r\n                multiline={true}\r\n                rows={12}\r\n                sx={{ mb: 2, mt: 1 }}\r\n                onChange={(e) => setPlanDetail(e.target.value)}/>\r\n              <div style={{display: \"flex\"}}>\r\n                <Button variant=\"contained\" onClick={saveDetail} sx={{width: '30%'}}>保存</Button>\r\n                <Button variant=\"contained\" color=\"error\" onClick={deletePlan} sx={{width: '30%', margin: \"0 5px\"}}>删除</Button>\r\n              </div>\r\n            </div>\r\n            : <div className=\"plan-detail-content\">\r\n              <div style={{display: 'flex', alignItems: 'center'}}>\r\n                <Typography variant=\"h6\">{detail.title}</Typography>\r\n                {typeIcon(detail.type)}\r\n              </div>\r\n              <Typography variant=\"subtitle1\">{detail.describe}</Typography>\r\n              <Typography variant=\"subtitle1\" sx={{mt: 2}}>时间</Typography>\r\n              <Typography variant=\"subtitle2\">{detail.time}</Typography>\r\n              <Typography variant=\"subtitle1\" sx={{mt: 2}}>计划</Typography>\r\n              <Typography variant=\"subtitle2\" sx={{whiteSpace: \"pre-line\"}}>{detail.detail}</Typography>\r\n            </div>\r\n          }\r\n        </div>\r\n      </div>\r\n      <Fab onClick={doFabAction} color={showEdit ? 'warning' : 'primary'} sx={{position: 'absolute', bottom: '5%', right: '10%'}}>\r\n        {showEdit\r\n          ? <CloseIcon/>\r\n          : <EditIcon/>\r\n        }\r\n      </Fab>\r\n      <DeleteConfirm onRef={confirmDialogRef} doDelete={doDelete}/>\r\n    </div>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/lineart.c315d534.png\";","import Header from \"../components/header\";\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport CardActionArea from '@mui/material/CardActionArea';\r\nimport Typography from '@mui/material/Typography';\r\nimport img from '../assets/img/lineart.png'\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport Fab from '@mui/material/Fab';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport {GlobalContext} from \"../components/globalProvider\"\r\n\r\nfunction Letter() {\r\n  const [list, setList] = useState([]);\r\n  const [content, setContent] = useState({});\r\n  const [showContent, setShowContent] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n\r\n  const queryLetter = () => {\r\n    const query = React.$bmob.Query(\"Letter\");\r\n    query.order('-createdAt');\r\n    global.doRequest(query, 'get').then(res => {\r\n      setList(res);\r\n    });\r\n  }\r\n\r\n  const showLetterContent = (content) => {\r\n    setContent(content);\r\n    setShowContent(true);\r\n  }\r\n\r\n  const ActionFeb = () => {\r\n    if (showContent) {\r\n      return (\r\n        <Fab onClick={doAction} color='warning' sx={{position: 'absolute', bottom: '5%', right: '10%'}}>\r\n          <CloseIcon/>\r\n        </Fab>\r\n      );\r\n    }\r\n  }\r\n\r\n  const doAction = () => {\r\n    if (showContent) {\r\n      setContent({});\r\n      setShowContent(false);\r\n    } else {\r\n\r\n    }\r\n  }\r\n\r\n  useEffect( queryLetter, []);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header/>\r\n      <div className=\"content-page\">\r\n        <div className=\"page-scroll\">\r\n          {showContent\r\n            ? <div className=\"animate__animated animate__fadeIn animate__slow\">\r\n              <CardMedia\r\n                component=\"img\"\r\n                height=\"100%\"\r\n                image={img}\r\n                alt=\"green iguana\"/>\r\n                <Typography variant=\"subtitle1\">{content.toName}：</Typography>\r\n                <p style={{whiteSpace: \"pre-line\"}}>{content.content}</p>\r\n                <Typography variant=\"subtitle1\" sx={{textAlign: 'right'}}>{content.fromName}</Typography>\r\n                <Typography variant=\"subtitle1\" sx={{textAlign: 'right'}}>{content.time}</Typography>\r\n              </div>\r\n            : list.map(item => (\r\n              <Card\r\n                className=\"animate__animated animate__zoomIn\"\r\n                key={item.objectId}\r\n                sx={{maxWidth: 600, margin: '10px auto'}}>\r\n                <CardActionArea onClick={() => showLetterContent(item)}>\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    height=\"120\"\r\n                    image={img}\r\n                    alt=\"green iguana\"/>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" color=\"text.secondary\">To:</Typography>\r\n                    <Typography gutterBottom variant=\"subtitle1\" component=\"div\"\r\n                                sx={{textAlign: 'center'}}>{item.toName}</Typography>\r\n                  </CardContent>\r\n                </CardActionArea>\r\n              </Card>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <ActionFeb/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Letter;","export default __webpack_public_path__ + \"static/media/cook-default.215755eb.jpg\";","import Button from '@mui/material/Button';\r\nimport TextField from '@mui/material/TextField';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport React, {useState, useImperativeHandle, useContext } from \"react\";\r\nimport {GlobalContext} from \"./globalProvider\";\r\n\r\nexport default function AddCookDialog(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [cookName, setCookName] = useState('');\r\n  const global = useContext(GlobalContext);\r\n\r\n  useImperativeHandle(props.onRef, () => {\r\n    return { openDialog: handleClickOpen };\r\n  });\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    handleClose();\r\n    const query = React.$bmob.Query(\"Cookbook\");\r\n    query.set('name',cookName);\r\n    query.set('frequency',0);\r\n    global.doRequest(query, 'put').then(res => {\r\n      global.showMessage(\"success\", \"Add Success\");\r\n      props.refreshPage();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>添加新菜</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            没有找到你想吃的菜吗？告诉我你想吃啥！\r\n          </DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"name\"\r\n            size=\"small\"\r\n            type=\"text\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            onChange={(e) => setCookName(e.target.value)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>取消</Button>\r\n          <Button onClick={handleSubmit}>提交</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport RadioGroup from \"@mui/material/RadioGroup\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Radio from \"@mui/material/Radio\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport {LocalizationProvider} from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport {AdapterDayjs} from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport {MobileDatePicker} from \"@mui/x-date-pickers/MobileDatePicker\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport Button from \"@mui/material/Button\";\r\nimport React, {useState, useImperativeHandle, useContext } from \"react\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport {GlobalContext} from \"./globalProvider\"\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default function AddMenu(props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [type, setType] = useState('0');\r\n  const [time, setTime] = useState(dayjs());\r\n  const [objectId, setObjectId] = useState('');\r\n  const [name, setName] = useState('');\r\n  const global = useContext(GlobalContext);\r\n\r\n  useImperativeHandle(props.onRef, () => {\r\n    return { openDialog: handleClickOpen };\r\n  });\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleClickOpen = (obj) => {\r\n    setObjectId(obj.id);\r\n    setName(obj.name);\r\n    setOpen(true);\r\n    setTime(dayjs());\r\n    setType('0');\r\n  };\r\n\r\n  const handleTypeChange = (event) => {\r\n    setType(event.target.value);\r\n  }\r\n\r\n  const handleDateChange = (newValue) => {\r\n    setTime(newValue);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    handleClose();\r\n    const pointer = React.$bmob.Pointer('Cookbook');\r\n    const poiID = pointer.set(objectId);\r\n    const query = React.$bmob.Query('DailyMenu');\r\n    query.set('time', dayjs(time).format('YYYY-MM-DD'));\r\n    query.set('type', type);\r\n    query.set('menu', poiID);\r\n    global.doRequest(query, 'put').then(res => {\r\n      global.showMessage(\"success\", \"Add Success\");\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>点菜</DialogTitle>\r\n        <DialogContent>\r\n          <Typography variant=\"h6\">{name}</Typography>\r\n          <FormControl sx={{mb: 1, mt: 1}}>\r\n            <FormLabel id=\"time-radio-group-label\">时间</FormLabel>\r\n            <RadioGroup\r\n              row\r\n              aria-labelledby=\"time-radio-group-label\"\r\n              name=\"time-radio-buttons-group\"\r\n              value={type}\r\n              onChange={handleTypeChange}>\r\n              <FormControlLabel value=\"0\" control={<Radio size=\"small\" />} label=\"早餐\" />\r\n              <FormControlLabel value=\"1\" control={<Radio size=\"small\" />} label=\"午餐\" />\r\n              <FormControlLabel value=\"2\" control={<Radio size=\"small\" />} label=\"晚餐\" />\r\n            </RadioGroup>\r\n          </FormControl>\r\n          <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n            <Stack spacing={1}>\r\n              <MobileDatePicker\r\n                label=\"日期\"\r\n                inputFormat=\"YYYY-MM-DD\"\r\n                value={time}\r\n                onChange={handleDateChange}\r\n                renderInput={(params) => <TextField {...params} size=\"small\" />}\r\n              />\r\n            </Stack>\r\n          </LocalizationProvider>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}>取消</Button>\r\n          <Button onClick={handleSubmit}>添加</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import Header from '../components/header'\r\nimport ImageList from '@mui/material/ImageList';\r\nimport ImageListItem from '@mui/material/ImageListItem';\r\nimport ImageListItemBar from '@mui/material/ImageListItemBar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport AddCircleIcon from '@mui/icons-material/AddCircle';\r\nimport defaultImg from '../assets/img/cook-default.jpg'\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport Fab from '@mui/material/Fab';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\nimport AddCookDialog from '../components/addCook'\r\nimport AddMenu from \"../components/addMenu\";\r\nimport {GlobalContext} from \"../components/globalProvider\"\r\n\r\nfunction Cook() {\r\n  const [list, setList] = useState([]);\r\n  const [detail, setDetail] = useState({});\r\n  const [showDetail, setShowDetail] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n  let addDialogRef = React.createRef();\r\n  let addMenuRef = React.createRef();\r\n\r\n  const queryList = () => {\r\n    const query = React.$bmob.Query(\"Cookbook\");\r\n    global.doRequest(query, 'get').then(res => {\r\n      setList(res);\r\n    });\r\n  }\r\n\r\n  const doFabAction = () => {\r\n    if (showDetail) {\r\n      setShowDetail(false);\r\n    } else {\r\n      addDialogRef.current.openDialog();\r\n    }\r\n  }\r\n\r\n  const showContent = (item) => {\r\n    setDetail(item);\r\n    setShowDetail(true);\r\n  }\r\n\r\n  const addToMenuList = (event, id, name) => {\r\n    event.stopPropagation();\r\n    addMenuRef.current.openDialog({id: id, name: name});\r\n  }\r\n\r\n  useEffect(queryList, []);\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header/>\r\n      <div className=\"content-page\">\r\n        <div className=\"page-scroll\">\r\n          {showDetail\r\n            ? <div>\r\n              <img\r\n                style={{width: '100%', maxHeight: 300}}\r\n                src={detail.img || defaultImg}\r\n                alt={detail.name}\r\n                loading=\"lazy\"\r\n              />\r\n              <Typography variant=\"h5\" gutterBottom={true}>{detail.name}</Typography>\r\n              <Typography variant=\"h6\">原材料</Typography>\r\n              <p style={{whiteSpace: \"pre-line\", margin: \"5px 0 20px\"}}>{detail.ingredients}</p>\r\n              <Typography variant=\"h6\">制作方法</Typography>\r\n              <p style={{whiteSpace: \"pre-line\", margin: \"5px 0 20px\"}}>{detail.describe}</p>\r\n              <Button variant=\"contained\" onClick={(event) => addToMenuList(event, detail.objectId, detail.name)}>下单</Button>\r\n            </div>\r\n            : <ImageList>\r\n              {list.map((item) => (\r\n                <ImageListItem key={item.objectId} onClick={() => showContent(item)}>\r\n                  <img\r\n                    src={item.img || defaultImg}\r\n                    alt={item.name}\r\n                    loading=\"lazy\"\r\n                  />\r\n                  <ImageListItemBar\r\n                    title={item.name}\r\n                    subtitle={'已点：' + item.frequency}\r\n                    actionIcon={\r\n                      <IconButton\r\n                        sx={{color: 'rgba(255, 255, 255, 0.54)'}}\r\n                        aria-label={`info about ${item.name}`}\r\n                        onClick={(event) => addToMenuList(event, item.objectId, item.name)}>\r\n                        <AddCircleIcon/>\r\n                      </IconButton>\r\n                    }\r\n                  />\r\n                </ImageListItem>\r\n              ))}\r\n            </ImageList>\r\n          }\r\n        </div>\r\n      </div>\r\n      <Fab onClick={doFabAction} color={showDetail ? 'warning' : 'primary'}\r\n           sx={{position: 'absolute', bottom: '5%', right: '10%'}}>\r\n        {showDetail\r\n          ? <CloseIcon/>\r\n          : <AddIcon/>\r\n        }\r\n      </Fab>\r\n      <AddCookDialog onRef={addDialogRef} refreshPage={queryList}/>\r\n      <AddMenu onRef={addMenuRef}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cook;","import { HashRouter, Switch, Route } from \"react-router-dom\";\r\nimport Login from './views/login';\r\nimport Home from './views/home';\r\nimport Special from './views/special';\r\nimport Plan from './views/plan';\r\nimport PlanDetail from './views/planDetail';\r\nimport Letter from './views/letter';\r\nimport Cook from './views/cook';\r\n\r\nfunction App() {\r\n  return (\r\n    <HashRouter>\r\n      <Switch>\r\n        <Route path=\"/home\" component={Home} />\r\n        <Route path=\"/special\" component={Special} />\r\n        <Route path=\"/plan\" component={Plan} />\r\n        <Route path=\"/plan-detail/:id\" component={PlanDetail} />\r\n        <Route path=\"/letter\" component={Letter} />\r\n        <Route path=\"/cook\" component={Cook} />\r\n        <Route path=\"/\" component={Login} />\r\n      </Switch>\r\n    </HashRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport './assets/index.css'\r\nimport 'animate.css';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Bmob from 'hydrogen-js-sdk';\r\nimport GlobalProvider from './components/globalProvider'\r\n\r\nBmob.initialize(\"452d29465d132369\", \"04052019\");\r\nReact.$bmob = Bmob;\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <div className=\"yc\">\r\n    <CssBaseline />\r\n    <GlobalProvider>\r\n      <App />\r\n    </GlobalProvider>\r\n  </div>\r\n);\r\n"],"sourceRoot":""}