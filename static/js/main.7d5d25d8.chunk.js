(this.webpackJsonpforher=this.webpackJsonpforher||[]).push([[0],{197:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},261:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(149),i=a.n(s),r=a(63),l=a(20),o=a(7),j=(a(197),a(349)),b=a(341),u=a(345),d=a(344),O=a(1);var x=function(e){var t=function(){e.close()};return Object(O.jsx)(u.a,{anchorOrigin:{vertical:e.vertical,horizontal:e.horizontal},open:e.open,autoHideDuration:1e3,onClose:t,children:Object(O.jsx)(d.a,{onClose:t,severity:e.type,sx:{width:"100%"},children:e.text})},e.vertical+e.horizontal)},h=a(100),p=a.n(h),f=a(331),m=a(273),v=a(372);var g=function(e){return Object(O.jsx)(m.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:e.open,children:Object(O.jsx)(v.a,{color:"inherit"})})};var y=function(){var e=Object(l.f)(),t=Object(c.useState)(""),a=Object(o.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(!1),u=Object(o.a)(r,2),d=u[0],h=u[1],m=Object(c.useState)(!1),v=Object(o.a)(m,2),y=v[0],S=v[1];return Object(O.jsxs)("div",{className:"login-page",children:[Object(O.jsxs)("div",{className:"login-panel",children:[Object(O.jsxs)("div",{className:"login-title",children:[Object(O.jsx)("span",{children:"Y"}),Object(O.jsx)(p.a,{sx:{color:f.a[500],fontSize:40}}),Object(O.jsx)("span",{children:"C"})]}),Object(O.jsx)(b.a,{variant:"outlined",label:"password",size:"small",type:"password",sx:{mb:2},onChange:function(e){return i(e.target.value)}}),Object(O.jsx)(j.a,{variant:"contained",onClick:function(){S(!0),n.a.$bmob.User.login("ccc",s).then((function(t){S(!1),e.replace({pathname:"/home"}),e.go(0)})).catch((function(e){S(!1),h(!0)}))},children:"Login"})]}),Object(O.jsx)(x,{vertical:"top",horizontal:"center",open:d,type:"error",text:"Wrong Password!",close:function(){h(!1)}}),Object(O.jsx)(g,{open:y})]})},S=a(356),C=a(342),k=a(373),D=a(167),z=a(346),w=(a(207),a(155)),N=a.n(w),I=a(354),Y=[{value:"/home",label:"HOME"},{value:"/special",label:"SPECIAL DAY"},{value:"/plan",label:"PLAN"},{value:"/letter",label:"LETTER"},{value:"/cook",label:"COOKBOOK"}];var M=function(){var e=Object(l.f)(),t=Object(l.g)(),a=Object(c.useState)(null),n=Object(o.a)(a,2),s=n[0],i=n[1],r=Object(c.useState)("/home"),j=Object(o.a)(r,2),b=j[0],u=j[1];Object(c.useEffect)((function(){-1!==t.pathname.indexOf("plan-detail")?u("/plan"):u(t.pathname)}),[u,t]);var d=function(){i(null)};return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsxs)(S.a,{sx:{justifyContent:"space-between",maxWidth:900,width:"100%",display:{xs:"none",md:"flex"}},children:[Object(O.jsx)("p",{className:"header-title",children:"Y&C"}),Object(O.jsx)(C.a,{value:b,onChange:function(t,a){e.push({pathname:a})},"aria-label":"nav tabs example",children:Y.map((function(e){return Object(O.jsx)(k.a,{value:e.value,label:e.label},e.value)}))})]}),Object(O.jsxs)(S.a,{sx:{justifyContent:"space-between",alignItems:"center",width:"100%",display:{xs:"flex",md:"none"}},children:[Object(O.jsx)(p.a,{sx:{color:f.a[500],fontSize:30}}),Object(O.jsx)("p",{className:"header-title",children:"Y&C"}),Object(O.jsx)(I.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(O.jsx)(N.a,{})}),Object(O.jsx)(D.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(s),onClose:d,sx:{display:{xs:"block",md:"none"}},children:Y.map((function(t){return Object(O.jsx)(z.a,{onClick:function(){return a=t.value,d(),void e.push({pathname:a});var a},children:t.label},t.value)}))})]})]})},$=a(156),P=a.n($),Q=a(171),R=a(336),A=a(357),E=a(350),T=a(45),W=a.n(T),q=a(334),F=a(376),H=a(374),B=a(375),L=a(335),J=a(69),K=a.n(J);function U(e){var t=n.a.useState(!1),a=Object(o.a)(t,2),s=a[0],i=a[1],r=n.a.useState(""),l=Object(o.a)(r,2),b=l[0],u=l[1],d=n.a.useState(""),x=Object(o.a)(d,2),h=x[0],p=x[1];Object(c.useImperativeHandle)(e.onRef,(function(){return{openDialog:f}}));var f=function(e,t){t&&p(t),u(e),i(!0)},m=function(){i(!1)};return Object(O.jsxs)(q.a,{open:s,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(O.jsx)(L.a,{id:"alert-dialog-title",children:"\u5220\u9664"}),Object(O.jsx)(H.a,{children:Object(O.jsxs)(B.a,{id:"alert-dialog-description",sx:{display:"flex",alignItems:"center"},children:[Object(O.jsx)(K.a,{sx:{color:"#ef5350"}}),b]})}),Object(O.jsxs)(F.a,{children:[Object(O.jsx)(j.a,{onClick:m,children:"\u53d6\u6d88"}),Object(O.jsx)(j.a,{onClick:function(){e.doDelete(h),m()},autoFocus:!0,children:"\u786e\u5b9a"})]})]})}var G=a(16),V=a.n(G);var X=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)({}),r=Object(o.a)(i,2),j=r[0],b=r[1],u=Object(c.useState)([]),d=Object(o.a)(u,2),h=d[0],p=d[1],f=Object(c.useState)([]),m=Object(o.a)(f,2),v=m[0],y=m[1],C=Object(c.useState)([]),k=Object(o.a)(C,2),D=k[0],z=k[1],w=Object(c.useState)([]),N=Object(o.a)(w,2),I=N[0],Y=N[1],$=Object(c.useState)("message"),T=Object(o.a)($,2),q=T[0],F=T[1],H=Object(c.useState)("success"),B=Object(o.a)(H,2),L=B[0],J=B[1],K=Object(c.useState)(!1),G=Object(o.a)(K,2),X=G[0],Z=G[1],_=Object(l.f)(),ee=n.a.createRef(),te=null;Object(c.useEffect)((function(){var e=n.a.$bmob.Query("Plan");e.equalTo("type","==","error"),e.order("-time"),e.limit(1),e.find().then((function(e){e.length>0?b(e[0]):b({objectId:"",title:"-",time:"-"})}));var t=n.a.$bmob.Query("DailyMenu");t.equalTo("time","==",V()().format("YYYY-MM-DD")),t.include("menu","post"),t.find().then((function(e){p(e.filter((function(e){return"0"===e.type}))),y(e.filter((function(e){return"1"===e.type}))),z(e.filter((function(e){return"2"===e.type})))}));var a=n.a.$bmob.Query("Special");return a.order("time"),a.equalTo("type","==",2),a.find().then((function(e){e&&e.length>0&&(Y(e[0]),te=setInterval((function(){Y(e[Math.floor(Math.random()*e.length)])}),3e3))})),function(){te&&(clearInterval(te),te=null)}}),[b,p,y,z]);var ae=function(e,t){ee.current.openDialog("\u786e\u5b9a\u4ece".concat(t,"\u4e2d\u5220\u9664\uff1a").concat(e.menu.name,"\uff1f"),e.objectId)},ce=function(e,t,a){F(a),J(t),Z(e)};return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)(M,{}),Object(O.jsx)("div",{className:"content-page",children:Object(O.jsxs)("div",{className:"page-scroll",children:[Object(O.jsxs)("div",{className:"home-time",style:{display:"flex",alignItems:"center",marginBottom:"20px"},children:[Object(O.jsx)(P.a,{sx:{color:"#F19595"}}),Object(O.jsx)(Q.a,{variant:"h5",color:"#F19595",children:"2022-08-30"})]}),Object(O.jsx)(S.a,{children:Object(O.jsxs)(R.a,{spacing:2,children:[Object(O.jsxs)(A.a,{sx:{backgroundColor:"rgb(253, 237, 237)",borderRadius:"4px",padding:"15px"},onClick:function(){var e;(e=j.objectId)&&_.push({pathname:"/plan-detail/"+e})},children:[Object(O.jsx)(Q.a,{variant:"subtitle1",color:"text.secondary",children:"\u6700\u8fd1\u7684\u8ba1\u5212"}),Object(O.jsx)(Q.a,{variant:"subtitle2",sx:{mt:1},children:j.title}),Object(O.jsx)(Q.a,{variant:"subtitle2",children:j.time})]}),Object(O.jsxs)("div",{style:{backgroundColor:"rgb(229, 246, 253)",borderRadius:"4px",padding:"15px"},children:[Object(O.jsx)(Q.a,{variant:"subtitle1",color:"text.secondary",children:"\u4eca\u65e5\u83dc\u5355"}),Object(O.jsx)(Q.a,{variant:"subtitle2",sx:{mt:2},children:"\u65e9\u9910"}),Object(O.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:h.map((function(e){return Object(O.jsx)(E.a,{label:e.menu.name,onDelete:function(){return ae(e,"\u65e9\u9910")},deleteIcon:Object(O.jsx)(W.a,{}),sx:{margin:"5px"}},e.objectId)}))}),Object(O.jsx)(Q.a,{variant:"subtitle2",sx:{mt:2},children:"\u5348\u9910"}),Object(O.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:v.map((function(e){return Object(O.jsx)(E.a,{label:e.menu.name,onDelete:function(){return ae(e,"\u5348\u9910")},deleteIcon:Object(O.jsx)(W.a,{}),sx:{margin:"5px"}},e.objectId)}))}),Object(O.jsx)(Q.a,{variant:"subtitle2",sx:{mt:2},children:"\u665a\u9910"}),Object(O.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:D.map((function(e){return Object(O.jsx)(E.a,{label:e.menu.name,onDelete:function(){return ae(e,"\u665a\u9910")},deleteIcon:Object(O.jsx)(W.a,{}),sx:{margin:"5px"}},e.objectId)}))})]})]})})]})}),Object(O.jsx)("div",{style:{position:"absolute",bottom:"20px",display:"flex",justifyContent:"center",width:"100%"},children:Object(O.jsx)(E.a,{label:I.name+" ("+I.time+")",sx:{margin:"5px",backgroundColor:"rgb(237, 247, 237)"}})}),Object(O.jsx)(U,{onRef:ee,doDelete:function(e){s(!0),n.a.$bmob.Query("DailyMenu").destroy(e).then((function(e){ce(!0,"success","Delete Success"),function(){var e=n.a.$bmob.Query("DailyMenu");e.equalTo("time","==",V()().format("YYYY-MM-DD")),e.include("menu","post"),e.find().then((function(e){s(!1),p(e.filter((function(e){return"0"===e.type}))),y(e.filter((function(e){return"1"===e.type}))),z(e.filter((function(e){return"2"===e.type})))})).then((function(e){s(!1)}))}()})).catch((function(e){s(!1),ce(!0,"error","error")}))}}),Object(O.jsx)(x,{vertical:"top",horizontal:"center",open:X,type:L,text:q,close:function(){Z(!1)}}),Object(O.jsx)(g,{open:a})]})},Z=(a(208),a(362)),_=a(363),ee=a(364),te=a(159),ae=a.n(te),ce=a(157),ne=a.n(ce),se=a(358),ie=a(351),re=a(359),le=a(361),oe=a(337),je=a(360);var be=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)([]),r=Object(o.a)(i,2),l=r[0],j=r[1],b=Object(c.useState)(!0),u=Object(o.a)(b,2),d=u[0],x=u[1],h=Object(c.useState)(!1),p=Object(o.a)(h,2),f=p[0],m=p[1];return V.a.extend(ne.a),Object(c.useEffect)((function(){m(!0);var e=n.a.$bmob.Query("Special");e.order("time"),e.find().then((function(e){m(!1);var t=e.map((function(e){if(1===e.type)e.duration="",e.days=V()(e.time).diff(V()(),"day");else{var t=V.a.duration(V()().diff(V()(e.time)));e.duration=t.years()+" Years "+t.months()+" Month "+t.days()+" Day",e.days=V()().diff(V()(e.time),"day")}return e})),a=t.filter((function(e){return 2===e.type}));s(t),j(a)}))}),[s,m]),Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)(M,{}),Object(O.jsx)("div",{className:"content-page",children:d?Object(O.jsxs)("div",{className:"page-scroll special-timeline",children:[Object(O.jsx)(se.a,{position:"alternate",children:l.map((function(e){return Object(O.jsxs)(ie.a,{children:[Object(O.jsxs)(re.a,{children:[Object(O.jsx)(je.a,{color:"success"}),Object(O.jsx)(le.a,{})]}),Object(O.jsxs)(oe.a,{children:[e.name," (",e.time,")"]})]},e.objectId)}))}),Object(O.jsx)(Q.a,{variant:"string",sx:{textAlign:"center"},children:"to be continued"})]}):Object(O.jsx)("div",{className:"page-scroll special-page",children:a.map((function(e){return Object(O.jsx)(Z.a,{sx:{width:{xs:"100%",md:"49%"},margin:"5px 0"},children:Object(O.jsxs)(_.a,{sx:{m:0,p:0},children:[Object(O.jsxs)("div",{className:1===e.type?"special-head-down":"special-head-up",children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsx)("p",{children:1===e.type?"Arrives in":"Already"})]}),Object(O.jsx)("p",{className:"special-content",children:e.days}),Object(O.jsx)("p",{className:"special-sub-content",children:e.duration}),Object(O.jsx)("p",{className:"special-foot",children:e.time})]})},e.objectId)}))})}),Object(O.jsx)(ee.a,{onClick:function(){x(!d)},color:d?"warning":"primary",sx:{position:"absolute",bottom:"5%",right:"10%"},children:Object(O.jsx)(ae.a,{})}),Object(O.jsx)(g,{open:f})]})},ue=(a(209),a(366)),de=a(353),Oe=a(367),xe=a(106),he=a.n(xe),pe=a(51),fe=a(343),me=a(352),ve=a(365),ge=a(355),ye=a(332),Se=a(340),Ce=a(338),ke=a(168);function De(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(!1),l=Object(o.a)(r,2),u=l[0],d=l[1],h=Object(c.useState)(!1),p=Object(o.a)(h,2),f=p[0],m=p[1],v=Object(c.useState)("message"),y=Object(o.a)(v,2),S=y[0],C=y[1],k=Object(c.useState)("success"),D=Object(o.a)(k,2),z=D[0],w=D[1],N=Object(c.useState)(""),I=Object(o.a)(N,2),Y=I[0],M=I[1],$=Object(c.useState)(""),P=Object(o.a)($,2),Q=P[0],A=P[1],E=Object(c.useState)("info"),T=Object(o.a)(E,2),W=T[0],B=T[1],J=Object(c.useState)(V()()),K=Object(o.a)(J,2),U=K[0],G=K[1];Object(c.useImperativeHandle)(e.onRef,(function(){return{openDialog:X}}));var X=function(){i(!0)},Z=function(){i(!1)},_=function(e,t,a){C(a),w(t),d(e)};return Object(O.jsxs)("div",{children:[Object(O.jsxs)(q.a,{open:s,onClose:Z,children:[Object(O.jsx)(L.a,{children:"\u6dfb\u52a0\u65b0\u8ba1\u5212"}),Object(O.jsxs)(H.a,{children:[Object(O.jsxs)(ge.a,{children:[Object(O.jsx)(ye.a,{id:"demo-row-radio-buttons-group-label",children:"Plan type"}),Object(O.jsxs)(me.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:W,onChange:function(e){B(e.target.value)},children:[Object(O.jsx)(ve.a,{value:"success",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u5df2\u5b8c\u6210"}),Object(O.jsx)(ve.a,{value:"error",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u8ba1\u5212\u4e2d"}),Object(O.jsx)(ve.a,{value:"info",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u672a\u6765"})]})]}),Object(O.jsx)(b.a,{variant:"outlined",label:"plan name",size:"small",type:"text",sx:{mb:2,mt:1},error:""===Y,onChange:function(e){return M(e.target.value)}}),Object(O.jsx)(b.a,{variant:"outlined",label:"describe",size:"small",type:"text",sx:{mb:2},onChange:function(e){return A(e.target.value)}}),Object(O.jsx)(ke.a,{dateAdapter:Ce.a,children:Object(O.jsx)(R.a,{spacing:1,children:Object(O.jsx)(Se.a,{label:"Start time",inputFormat:"YYYY-MM-DD",value:U,onChange:function(e){G(e)},renderInput:function(e){return Object(O.jsx)(b.a,Object(pe.a)(Object(pe.a)({},e),{},{size:"small"}))}})})})]}),Object(O.jsxs)(F.a,{children:[Object(O.jsx)(j.a,{onClick:Z,children:"\u53d6\u6d88"}),Object(O.jsx)(j.a,{onClick:function(){if(""!==Y){Z(),m(!0);var t=n.a.$bmob.Query("Plan");t.set("title",Y),t.set("describe",Q),t.set("type",W),t.set("time",V()(U).format("YYYY-MM-DD")),t.save().then((function(t){_(!0,"success","Add Success"),e.refreshPage(),m(!1)})).catch((function(e){_(!0,"error","error"),m(!1)}))}},children:"\u6dfb\u52a0"})]})]}),Object(O.jsx)(x,{vertical:"top",horizontal:"center",open:u,type:z,text:S,close:function(){d(!1)}}),Object(O.jsx)(g,{open:f})]})}var ze=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)([]),r=Object(o.a)(i,2),j=r[0],b=r[1],u=Object(c.useState)(!1),x=Object(o.a)(u,2),h=x[0],p=x[1],f=Object(l.f)(),m=n.a.createRef();Object(c.useEffect)((function(){p(!0);var e=n.a.$bmob.Query("Plan");e.order("-time"),e.find().then((function(e){b(e),p(!1)}))}),[b,p]);var v=function(e){p(!0);var t=n.a.$bmob.Query("Plan");t.order("-time"),e&&t.equalTo("type","==",e),t.find().then((function(e){b(e),p(!1)}))};return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)(M,{}),Object(O.jsx)("div",{className:"content-page",children:Object(O.jsxs)("div",{className:"page-scroll",children:[Object(O.jsxs)(de.a,{color:"primary",value:a,exclusive:!0,onChange:function(e,t){s(t),v(t)},sx:{mt:"5px"},"aria-label":"Platform",children:[Object(O.jsx)(ue.a,{size:"small",value:"success",children:"\u5df2\u5b8c\u6210"}),Object(O.jsx)(ue.a,{size:"small",value:"error",children:"\u8ba1\u5212\u4e2d"}),Object(O.jsx)(ue.a,{size:"small",value:"info",children:"\u672a\u6765"})]}),Object(O.jsx)("div",{className:"plan-content",children:j.map((function(e){return Object(O.jsx)(A.a,{sx:{mt:"10px"},onClick:function(){return t=e.objectId,void f.push({pathname:"/plan-detail/"+t});var t},children:Object(O.jsxs)(d.a,{severity:e.type,children:[Object(O.jsx)(Oe.a,{children:e.title}),e.describe," \u2014 ",Object(O.jsx)("strong",{children:e.time||"/"})]})},e.objectId)}))})]})}),Object(O.jsx)(ee.a,{onClick:function(){m.current.openDialog()},color:"primary",sx:{position:"absolute",bottom:"5%",right:"10%"},children:Object(O.jsx)(he.a,{})}),Object(O.jsx)(De,{onRef:m,refreshPage:v}),Object(O.jsx)(g,{open:h})]})},we=a(163),Ne=a.n(we),Ie=a(164),Ye=a.n(Ie);function Me(e){var t=Object(c.useState)({}),a=Object(o.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(!1),u=Object(o.a)(r,2),d=u[0],h=u[1],p=Object(c.useState)(!1),f=Object(o.a)(p,2),m=f[0],v=f[1],y=Object(c.useState)(""),S=Object(o.a)(y,2),C=S[0],k=S[1],D=Object(c.useState)(""),z=Object(o.a)(D,2),w=z[0],N=z[1],I=Object(c.useState)("info"),Y=Object(o.a)(I,2),$=Y[0],P=Y[1],A=Object(c.useState)(V()()),E=Object(o.a)(A,2),T=E[0],q=E[1],F=Object(c.useState)(V()()),H=Object(o.a)(F,2),B=H[0],L=H[1],J=Object(c.useState)("message"),G=Object(o.a)(J,2),X=G[0],Z=G[1],_=Object(c.useState)("success"),te=Object(o.a)(_,2),ae=te[0],ce=te[1],ne=Object(c.useState)(!1),se=Object(o.a)(ne,2),ie=se[0],re=se[1],le=n.a.createRef(),oe=Object(l.f)();Object(c.useEffect)((function(){h(!0),n.a.$bmob.Query("Plan").get(e.match.params.id).then((function(e){i(e),je(e),h(!1)})).catch((function(e){h(!1)}))}),[i,h,e]);var je=function(e){k(e.title),N(e.describe),P(e.type),q(e.time?V()(e.time):V()()),L(e.detail)},be=function(e,t,a){Z(a),ce(t),re(e)};return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)(M,{}),Object(O.jsx)("div",{className:"content-page",children:Object(O.jsx)("div",{className:"page-scroll",children:m?Object(O.jsxs)("div",{className:"plan-detail-edit",style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)(b.a,{variant:"outlined",label:"plan name",size:"small",type:"text",sx:{mb:2,mt:1},value:C,error:""===C,onChange:function(e){return k(e.target.value)}}),Object(O.jsxs)(ge.a,{children:[Object(O.jsx)(ye.a,{id:"demo-row-radio-buttons-group-label",children:"Plan type"}),Object(O.jsxs)(me.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:$,onChange:function(e){return P(e.target.value)},children:[Object(O.jsx)(ve.a,{value:"success",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u5df2\u5b8c\u6210"}),Object(O.jsx)(ve.a,{value:"error",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u8ba1\u5212\u4e2d"}),Object(O.jsx)(ve.a,{value:"info",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u672a\u6765"})]})]}),Object(O.jsx)(b.a,{variant:"outlined",label:"describe",size:"small",type:"text",value:w,sx:{mb:2},onChange:function(e){return N(e.target.value)}}),Object(O.jsx)(ke.a,{dateAdapter:Ce.a,children:Object(O.jsx)(R.a,{spacing:1,children:Object(O.jsx)(Se.a,{label:"Start time",inputFormat:"YYYY-MM-DD",value:T,onChange:function(e){return q(e)},renderInput:function(e){return Object(O.jsx)(b.a,Object(pe.a)(Object(pe.a)({},e),{},{size:"small"}))}})})}),Object(O.jsx)(b.a,{variant:"outlined",label:"Detail",size:"small",type:"text",value:B,fullWidth:!0,multiline:!0,rows:12,sx:{mb:2,mt:1},onChange:function(e){return L(e.target.value)}}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(j.a,{variant:"contained",onClick:function(){if(""!==C){h(!0);var t=n.a.$bmob.Query("Plan");t.set("id",s.objectId),t.set("title",C),t.set("describe",w),t.set("type",$),t.set("time",V()(T).format("YYYY-MM-DD")),t.set("detail",B),t.save().then((function(t){be(!0,"success","Add Success"),v(!1),h(!1),h(!0),n.a.$bmob.Query("Plan").get(e.match.params.id).then((function(e){i(e),je(e),h(!1)})).catch((function(e){h(!1),be(!0,"error",e)}))})).catch((function(e){be(!0,"error","error"),h(!1)}))}},sx:{width:"30%"},children:"\u4fdd\u5b58"}),Object(O.jsx)(j.a,{variant:"contained",color:"error",onClick:function(){le.current.openDialog("\u786e\u5b9a\u5220\u9664\u8fd9\u6761\u6570\u636e\u5417\uff1f")},sx:{width:"30%",margin:"0 5px"},children:"\u5220\u9664"})]})]}):Object(O.jsxs)("div",{className:"plan-detail-content",children:[Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(O.jsx)(Q.a,{variant:"h6",children:s.title}),function(e){switch(e){case"success":return Object(O.jsx)(Ne.a,{sx:{color:"#4caf50"}});case"error":return Object(O.jsx)(K.a,{sx:{color:"#ef5350"}});default:return Object(O.jsx)(K.a,{sx:{color:"#03a9f4"}})}}(s.type)]}),Object(O.jsx)(Q.a,{variant:"subtitle1",children:s.describe}),Object(O.jsx)(Q.a,{variant:"subtitle1",sx:{mt:2},children:"\u65f6\u95f4"}),Object(O.jsx)(Q.a,{variant:"subtitle2",children:s.time}),Object(O.jsx)(Q.a,{variant:"subtitle1",sx:{mt:2},children:"\u8ba1\u5212"}),Object(O.jsx)(Q.a,{variant:"subtitle2",sx:{whiteSpace:"pre-line"},children:s.detail})]})})}),Object(O.jsx)(ee.a,{onClick:function(){m&&je(s),v(!m)},color:m?"warning":"primary",sx:{position:"absolute",bottom:"5%",right:"10%"},children:m?Object(O.jsx)(W.a,{}):Object(O.jsx)(Ye.a,{})}),Object(O.jsx)(g,{open:d}),Object(O.jsx)(x,{vertical:"top",horizontal:"center",open:ie,type:ae,text:X,close:function(){re(!1)}}),Object(O.jsx)(U,{onRef:le,doDelete:function(){h(!0),n.a.$bmob.Query("Plan").destroy(s.objectId).then((function(e){be(!0,"success","Delete Success"),v(!1),h(!1),oe.go(-1)})).catch((function(e){h(!1),be(!0,"error","error")}))}})]})}var $e=a(368),Pe=a.p+"static/media/lineart.c315d534.png";var Qe=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)({}),r=Object(o.a)(i,2),l=r[0],j=r[1],b=Object(c.useState)(!1),u=Object(o.a)(b,2),d=u[0],x=u[1],h=Object(c.useState)(!1),p=Object(o.a)(h,2),f=p[0],m=p[1];Object(c.useEffect)((function(){m(!0);var e=n.a.$bmob.Query("Letter");e.order("-createdAt"),e.find().then((function(e){s(e),m(!1)}))}),[s,m]);var v=function(){if(d)return Object(O.jsx)(ee.a,{onClick:y,color:"warning",sx:{position:"absolute",bottom:"5%",right:"10%"},children:Object(O.jsx)(W.a,{})})},y=function(){d&&(j({}),x(!1))};return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)(M,{}),Object(O.jsx)("div",{className:"content-page",children:Object(O.jsx)("div",{className:"page-scroll",children:d?Object(O.jsxs)("div",{children:[Object(O.jsx)($e.a,{component:"img",height:"100%",image:Pe,alt:"green iguana"}),Object(O.jsxs)(Q.a,{variant:"subtitle1",children:[l.toName,"\uff1a"]}),Object(O.jsx)("p",{style:{whiteSpace:"pre-line"},children:l.content}),Object(O.jsx)(Q.a,{variant:"subtitle1",sx:{textAlign:"right"},children:l.fromName}),Object(O.jsx)(Q.a,{variant:"subtitle1",sx:{textAlign:"right"},children:l.time})]}):a.map((function(e){return Object(O.jsx)(Z.a,{sx:{maxWidth:600,margin:"10px auto"},children:Object(O.jsxs)(A.a,{onClick:function(){return function(e){j(e),x(!0)}(e)},children:[Object(O.jsx)($e.a,{component:"img",height:"120",image:Pe,alt:"green iguana"}),Object(O.jsxs)(_.a,{children:[Object(O.jsx)(Q.a,{variant:"h6",color:"text.secondary",children:"To:"}),Object(O.jsx)(Q.a,{gutterBottom:!0,variant:"subtitle1",component:"div",sx:{textAlign:"center"},children:e.toName})]})]})},e.objectId)}))})}),Object(O.jsx)(v,{}),Object(O.jsx)(g,{open:f})]})},Re=a(369),Ae=a(370),Ee=a(371),Te=a(165),We=a.n(Te),qe=a.p+"static/media/cook-default.215755eb.jpg";function Fe(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(!1),l=Object(o.a)(r,2),u=l[0],d=l[1],h=Object(c.useState)("message"),p=Object(o.a)(h,2),f=p[0],m=p[1],v=Object(c.useState)("success"),y=Object(o.a)(v,2),S=y[0],C=y[1],k=Object(c.useState)(""),D=Object(o.a)(k,2),z=D[0],w=D[1],N=Object(c.useState)(!1),I=Object(o.a)(N,2),Y=I[0],M=I[1];Object(c.useImperativeHandle)(e.onRef,(function(){return{openDialog:$}}));var $=function(){i(!0)},P=function(){i(!1)},Q=function(e,t,a){m(a),C(t),d(e)};return Object(O.jsxs)("div",{children:[Object(O.jsxs)(q.a,{open:s,onClose:P,children:[Object(O.jsx)(L.a,{children:"\u6dfb\u52a0\u65b0\u83dc"}),Object(O.jsxs)(H.a,{children:[Object(O.jsx)(B.a,{children:"\u6ca1\u6709\u627e\u5230\u4f60\u60f3\u5403\u7684\u83dc\u5417\uff1f\u544a\u8bc9\u6211\u4f60\u60f3\u5403\u5565\uff01"}),Object(O.jsx)(b.a,{autoFocus:!0,margin:"dense",label:"name",size:"small",type:"text",fullWidth:!0,variant:"outlined",onChange:function(e){return w(e.target.value)}})]}),Object(O.jsxs)(F.a,{children:[Object(O.jsx)(j.a,{onClick:P,children:"\u53d6\u6d88"}),Object(O.jsx)(j.a,{onClick:function(){P(),M(!0);var t=n.a.$bmob.Query("Cookbook");t.set("name",z),t.set("frequency",0),t.save().then((function(t){Q(!0,"success","Add Success"),e.refreshPage(),M(!1)})).catch((function(e){Q(!0,"error","update error"),M(!1)}))},children:"\u63d0\u4ea4"})]})]}),Object(O.jsx)(x,{vertical:"top",horizontal:"center",open:u,type:S,text:f,close:function(){d(!1)}}),Object(O.jsx)(g,{open:Y})]})}function He(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],i=a[1],r=Object(c.useState)(!1),l=Object(o.a)(r,2),u=l[0],d=l[1],h=Object(c.useState)(!1),p=Object(o.a)(h,2),f=p[0],m=p[1],v=Object(c.useState)("message"),y=Object(o.a)(v,2),S=y[0],C=y[1],k=Object(c.useState)("success"),D=Object(o.a)(k,2),z=D[0],w=D[1],N=Object(c.useState)("0"),I=Object(o.a)(N,2),Y=I[0],M=I[1],$=Object(c.useState)(V()()),P=Object(o.a)($,2),A=P[0],E=P[1],T=Object(c.useState)(""),W=Object(o.a)(T,2),B=W[0],J=W[1];Object(c.useImperativeHandle)(e.onRef,(function(){return{openDialog:U}}));var K=function(){i(!1)},U=function(e){J(e),i(!0),E(V()()),M("0")},G=function(e,t,a){C(a),w(t),d(e)};return Object(O.jsxs)("div",{children:[Object(O.jsxs)(q.a,{open:s,onClose:K,children:[Object(O.jsx)(L.a,{children:"\u70b9\u83dc"}),Object(O.jsxs)(H.a,{children:[Object(O.jsx)(Q.a,{variant:"h6",children:"\u767d\u707c\u867e"}),Object(O.jsxs)(ge.a,{sx:{mb:1,mt:1},children:[Object(O.jsx)(ye.a,{id:"time-radio-group-label",children:"\u65f6\u95f4"}),Object(O.jsxs)(me.a,{row:!0,"aria-labelledby":"time-radio-group-label",name:"time-radio-buttons-group",value:Y,onChange:function(e){M(e.target.value)},children:[Object(O.jsx)(ve.a,{value:"0",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u65e9\u9910"}),Object(O.jsx)(ve.a,{value:"1",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u5348\u9910"}),Object(O.jsx)(ve.a,{value:"2",control:Object(O.jsx)(fe.a,{size:"small"}),label:"\u665a\u9910"})]})]}),Object(O.jsx)(ke.a,{dateAdapter:Ce.a,children:Object(O.jsx)(R.a,{spacing:1,children:Object(O.jsx)(Se.a,{label:"\u65e5\u671f",inputFormat:"YYYY-MM-DD",value:A,onChange:function(e){E(e)},renderInput:function(e){return Object(O.jsx)(b.a,Object(pe.a)(Object(pe.a)({},e),{},{size:"small"}))}})})})]}),Object(O.jsxs)(F.a,{children:[Object(O.jsx)(j.a,{onClick:K,children:"\u53d6\u6d88"}),Object(O.jsx)(j.a,{onClick:function(){K(),m(!0);var e=n.a.$bmob.Pointer("Cookbook").set(B),t=n.a.$bmob.Query("DailyMenu");t.set("time",V()(A).format("YYYY-MM-DD")),t.set("type",Y),t.set("menu",e),t.save().then((function(e){G(!0,"success","Add Success"),m(!1)})).catch((function(e){G(!0,"error","error"),m(!1)}))},children:"\u6dfb\u52a0"})]})]}),Object(O.jsx)(x,{vertical:"top",horizontal:"center",open:u,type:z,text:S,close:function(){d(!1)}}),Object(O.jsx)(g,{open:f})]})}var Be=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)({}),r=Object(o.a)(i,2),l=r[0],b=r[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),x=d[0],h=d[1],p=Object(c.useState)(!1),f=Object(o.a)(p,2),m=f[0],v=f[1],y=n.a.createRef(),S=n.a.createRef();Object(c.useEffect)((function(){v(!0),n.a.$bmob.Query("Cookbook").find().then((function(e){s(e),v(!1)})).catch((function(e){v(!1)}))}),[s,v]);var C=function(e,t){e.stopPropagation(),S.current.openDialog(t)};return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)(M,{}),Object(O.jsx)("div",{className:"content-page",children:Object(O.jsx)("div",{className:"page-scroll",children:x?Object(O.jsxs)("div",{children:[Object(O.jsx)("img",{style:{width:"100%",maxHeight:300},src:l.img||qe,alt:l.name,loading:"lazy"}),Object(O.jsx)(Q.a,{variant:"h5",gutterBottom:!0,children:l.name}),Object(O.jsx)(Q.a,{variant:"h6",children:"\u539f\u6750\u6599"}),Object(O.jsx)("p",{style:{whiteSpace:"pre-line",margin:"5px 0 20px"},children:l.ingredients}),Object(O.jsx)(Q.a,{variant:"h6",children:"\u5236\u4f5c\u65b9\u6cd5"}),Object(O.jsx)("p",{style:{whiteSpace:"pre-line",margin:"5px 0 20px"},children:l.describe}),Object(O.jsx)(j.a,{variant:"contained",onClick:function(e){return C(e,l.objectId)},children:"\u4e0b\u5355"})]}):Object(O.jsx)(Re.a,{children:a.map((function(e){return Object(O.jsxs)(Ae.a,{onClick:function(){return function(e){b(e),h(!0)}(e)},children:[Object(O.jsx)("img",{src:e.img||qe,alt:e.name,loading:"lazy"}),Object(O.jsx)(Ee.a,{title:e.name,subtitle:"\u5df2\u70b9\uff1a"+e.frequency,actionIcon:Object(O.jsx)(I.a,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"info about ".concat(e.name),onClick:function(t){return C(t,e.objectId)},children:Object(O.jsx)(We.a,{})})})]},e.objectId)}))})})}),Object(O.jsx)(ee.a,{onClick:function(){x?h(!1):y.current.openDialog()},color:x?"warning":"primary",sx:{position:"absolute",bottom:"5%",right:"10%"},children:x?Object(O.jsx)(W.a,{}):Object(O.jsx)(he.a,{})}),Object(O.jsx)(Fe,{onRef:y,refreshPage:function(){v(!0),n.a.$bmob.Query("Cookbook").find().then((function(e){s(e),v(!1)})).catch((function(e){v(!1)}))}}),Object(O.jsx)(He,{onRef:S}),Object(O.jsx)(g,{open:m})]})};var Le=function(){return Object(O.jsx)(r.a,{children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/home",component:X}),Object(O.jsx)(l.a,{path:"/special",component:be}),Object(O.jsx)(l.a,{path:"/plan",component:ze}),Object(O.jsx)(l.a,{path:"/plan-detail/:id",component:Me}),Object(O.jsx)(l.a,{path:"/letter",component:Qe}),Object(O.jsx)(l.a,{path:"/cook",component:Be}),Object(O.jsx)(l.a,{path:"/",component:y})]})})},Je=(a(210),a(339)),Ke=a(129),Ue=a.n(Ke);Ue.a.initialize("452d29465d132369","04052019"),n.a.$bmob=Ue.a,i.a.createRoot(document.getElementById("root")).render(Object(O.jsxs)("div",{className:"yc",children:[Object(O.jsx)(Je.a,{}),Object(O.jsx)(Le,{})]}))}},[[261,1,2]]]);
//# sourceMappingURL=main.7d5d25d8.chunk.js.map